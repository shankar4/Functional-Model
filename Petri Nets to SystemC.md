[O'Hara et al.](http://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002530), (2016) have developed a biologist friendly pathway modeling language (mEPN) that entry level biology professionals can use to visually construct and formalize what they know in a form that can be communicated to their peers. This tool and results will be discussed in a separate folder entitled 'Biological Pathway Models.' Here the emphasis is on their underlying formal modeling approach for dynamic simulations, namely Petri Nets. I discuss here two papers on porting Petri Nets to SystemC.

A [Petri net](https://en.wikipedia.org/wiki/Petri_net) (PN) is a modeling language used to describe concurrent and distributed systems with discrete event dynamics. It is a directed bipartite graph, that uses tokens to represent the activity (or amount) of a given component and a rule-based approach to model the flow of these tokens through a system. PN has two types of vertices: places (represented as circles) and transitions (represented as bars), with a recurrent structure of place-transition-place. Places model conditions, and may contain a discrete number of marks or tokens. A transition can fire based on the local sets of tokens at the places it is connected to and a set of firing rules. Firing consumes the required input tokens and creates tokens in its output places. A firing is atomic (a single non-interruptible step). Unless specified otherwise, a PN executes nondeterministically, i.e., if multiple transitions are enabled at a given time in different parts of the network, they can fire in any order. This also implies that there is no determinstic output, given that the time-sequence of firing is not determinstic. 

Signaling Petri Nets (SPN), that O'Hara et al used in mEPN, was originally developed for network visualization and analysis software BioLayout Express. This software was free in 2016 and has now been replaced with a [commercial product](https://kajeka.com/biolayout-express-upgrade/). It is thus unclear whether mEPN is usable. I will explore that soon. 

However, my goal here is to use mEPN as a frontend static tool to capture biologist-centric biological pathway models as a PN structure and port it to SystemC, which is based on C++ and will remain free to use. SystemC also provides a mechanism to port such pathway models (whether modeled with PN or otherwise) to computationally efficient hardware solutions (such as embedded systems and/or dedicated FPGA/IC implementations) for significant speedup and real-time use. 

Rust's papers listed below discuss PN translation to SystemC. It is used in hardware design to provide structural descriptions, using modules, ports and signals. Hierarchical designs are implemented instantiating modules (SC_MODULE) within other modules. Communication between different modules occurs through signals (uni/bi-directional) and signals. All ports and signals are assgined specific data types by the user. Concurrent behavior is modeled as processes. A process has an independent thread of control which executes when its 'sensitive' (declared by the user) inputs change and suspends after performing some action. Thus processes execute concurrently and may suspend and resume at user-specified instances. Generally each SystemC process instance has its own independent execution stack, with the code within the process executed sequentially. SC_METHOD does not need such an independent execution stack and can provide significant simulation speedup, when the number of process instances is large. For communication and synchronization, the SystemC primitives are channels, interfaces and events. A SystemC channel is a container object for communication and synchronization between different modules. Hardware examples are: signals, queues (FIFO, LIFO, etc), semaphores, memories, and busses. Biological analogs will be identified in the write-up on biological pathways. 

In their flow, *Modeling* step leads to a hierarchical high level PN. It is then flattened. Next, in *Partitioning'*, small to medium size partitions are produced (with conflicts encapsulated inside of a single partition), with simple 'send and forget' communication structure between the partitions. Each partition is then mapped to either hardware or software in the *HW/SW Codesign* step. In general each PN unit can be mapped to an equivalent SystemC specification, since SystemC is a superset of C. However, they only map PNs with certain transition types to SystemC, as hardware acceleration is the goal. Other PN units are mapped to C/C++. 

Petri Net Realization: To be continued. 


References cited above:
1. [Rust, et al.](https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=1244548): From High-Level Petri Nets to SystemC
2. [Rust and Rettberg](https://link.springer.com/chapter/10.1007/1-4020-8149-9_19): Automatic Synthesis of SystemC Code from Formal Specifications.
